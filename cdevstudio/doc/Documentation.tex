\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage{underscore}

\title{CDevStudio Documentation}
\author{Simon WÃ¤chter}

\begin{document}

\maketitle
\newpage

\tableofcontents
\newpage

\section{Introduction}
This developer guide gives an overview about the CDevStudio project, the requirements for it and some common workflow patterns.

\subsection{Idea and content of this documentation}
The idea is to document everything that is needed for this project in one document. With this documentation, a new person should be able to work for the project. It also gives an overview about the design of the project. For the code documentation check out the code documentation generated by Doxygen

\section{Documentation}
As said in the introduction chapter, there are two documentations for the CDevStudio project.

\subsection{Code documentation}
The Doxygen documentation gives an overview about the whole codebase of the project, means classes, methods etc.

\subsection{Developer documentation}
As addition to the code documentation, there is a developer documentation. This documentation (The document you are reading) gives an overview about the design and implementation of the project. It does not contain code specific details.

\section{Codebase}
CDevStudio is based on a main application (CDevStudio), a platform (CDevStudioPlatform) with a plugin API and the loaded plugins. These plugins have access to the API provided by the platform (IPlugin).

\subsection{CDevStudio}
CDevStudio is the main program. It contains the graphical user interface and uses CDevStudioPlatform for UI creation, plugin loading and interaction.

\subsection{CDevStudioPlatform}
CDevStudioPlatform is the platform for the main application. It is responsible for loading plugins, for the plugin communication and the backend (I/O interaction). The plugin API is accessible over CDevStudioPlatformPlugin.

\subsection{Plugin Project}
The plugin Project is responsible for the project creation and file management.

\subsection{Plugin Project Explorer}
The plugin 'Project Explorer' provides a basic project explorer view for the current project.

\subsection{Plugin Editor}
The plugin ProjectExplorer adds a project explorer to CDevStudio.

\section{Workflow}
The plugin ProjectExplorer provides a basic project explorer for opening files.

\subsection{Requirements}
CDevStudio has a few requirements. You can split them into build and package requirements:

\begin{itemize}
	\item Build requirements
	\begin{itemize}
		\item Working C/C++ toolchain with support for the C++11 standard
		\item Git
		\item CMake (2.8.11 or higher)
		\item Qt 5 (5.2.0 or higher)
		\item Doxygen (Code documentation - Optional)
		\item Latex (Developer documentation - Optional)
	\end{itemize}
	\item Package requirements
	\begin{itemize}
		\item Linux Debian: build-essentials, dh_make, devscripts
		\item Linux Fedora: rpmbuild
		\item Linux Arch Linux: base-devel
		\item Linux Windows: NSIS
	\end{itemize}
\end{itemize}

\subsection{Initialize workspace}
For the workspace initialization, please clone the repository and create a new branch:

\begin{itemize}
	\item git clone http://github.com/swaechter/cdevstudio
	\item cd cdevstudio
	\item git checkout -b develop origin/develop
\end{itemize}

\subsection{Build project}
Now the project is initialized and you can start with a first build. CDevStudio uses CMake as build system. It can generate project files for different IDE's. To run CMake and build the project run these commands:

\begin{itemize}
	\item mkdir build
	\item cd build
	\item cmake ..
	\item make (or the build command of your toolchain)
	\item Copy the libraries to the application directory (Depends on the platform)
\end{itemize}

\subsection{Create a new feature}
Now it's the time to create a new feature branch, add your feature and push it back to the develop branch:

\begin{itemize}
	\item git pull origin develop
	\item git checkout develop
	\item git checkout -b feature-new-stuff develop
	\item Do your stuff
	\item git commit -m "Feature"
	\item git merge feature-new-stuff
	\item git push
	\item git branch -d feature-new-stuff
\end{itemize}

\subsection{Create a new release}
There are a few things that have to be done for each new release:

\begin{itemize}
	\item Create a new release branch
	\begin{itemize}
		\item git checkout -b release-x.x.x develop
	\end{itemize}
	\item Generate documentation
	\begin{itemize}
		\item Run the doxygen documentation generation
		\item Update this documentation and create a PDF
	\end{itemize}
	\item Update codebase
	\begin{itemize}
		\item Update CMakeLists.txt
		\item Update src/cdevstudio/data/cdevstudio.desktop
		\item Update src/cdevstudio/data/cdevstudio.1.gz
		\item Update src/cdevstudio/data/text_about.html
	\end{itemize}
	\item Update Debian package
	\begin{itemize}
		\item Add new changelog entry
		\item Update the Lintian overrides
		\item Update package/linux_debian_deb/create_package.sh
	\end{itemize}
	\item Update Fedora package
	\begin{itemize}
		\item Update package/linux_fedora_rpm/cdevstudio.spec
		\item Update package/linux_fedora_rpm/create_package.sh
	\end{itemize}
	\item Update Arch Linux package
	\begin{itemize}
		\item Update package/linux_archlinux_tarxz/PKGBUILD
	\end{itemize}
	\item Update Windows package
	\begin{itemize}
		\item Update package/windows_exe/cdevstudio.nsis
	\end{itemize}
	\item Integrate the new release
	\begin{itemize}
		\item git commit -m "Release"
		\item git checkout master
		\item git merge release-x.x.x
		\item git push
		\item git checkout develop
		\item git merge release-x.x.x
		\item git push
		\item git branch -d release-x.x.x
	\end{itemize}
	\item Create the new release number
	\begin{itemize}
		\item git tag -a x.x.x -m "New release" master
		\item git push --tags
	\end{itemize}
\end{itemize}

\subsection{Create a package}
To create a package, run the create_package.sh or create_package.bat script in the package directory.

\end{document}
